{"ast":null,"code":"// src/components/AddUser.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddUser=()=>{const[newUser,setNewUser]=useState({username:'',password:'',userType:'',email_id:'',mobile_no:''});const navigate=useNavigate();useEffect(()=>{// Check if the userType in localStorage is admin\nconst userType=localStorage.getItem('userType');if(userType!=='admin'){navigate('/dashboard');// Redirect if not admin\n}},[navigate]);const handleAddUser=async()=>{try{await axios.post('https://instareact-9vx0.onrender.com/api/users',newUser);setNewUser({username:'',password:'',userType:'',email_id:'',mobile_no:''});// Reset form\nnavigate('/manage-users');// Redirect to the users list page\n}catch(error){console.error('Error adding user:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Add New User\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:newUser.username,onChange:e=>setNewUser({...newUser,username:e.target.value}),className:\"block w-full border border-gray-300 rounded-md p-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:newUser.password,onChange:e=>setNewUser({...newUser,password:e.target.value}),className:\"block w-full border border-gray-300 rounded-md p-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email ID\",value:newUser.email_id,onChange:e=>setNewUser({...newUser,email_id:e.target.value}),className:\"block w-full border border-gray-300 rounded-md p-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Mobile No\",value:newUser.mobile_no,onChange:e=>setNewUser({...newUser,mobile_no:e.target.value}),className:\"block w-full border border-gray-300 rounded-md p-2\"}),/*#__PURE__*/_jsxs(\"select\",{value:newUser.userType,onChange:e=>setNewUser({...newUser,userType:e.target.value}),className:\"block w-full border border-gray-300 rounded-md p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select User Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddUser,className:\"bg-purple-900 text-white py-2 px-4 rounded\",children:\"Add User\"})]})]});};export default AddUser;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AddUser","newUser","setNewUser","username","password","userType","email_id","mobile_no","navigate","localStorage","getItem","handleAddUser","post","error","console","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/Admin/Documents/instareact/frontend/src/pages/AddUser.js"],"sourcesContent":["// src/components/AddUser.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AddUser = () => {\r\n    const [newUser, setNewUser] = useState({\r\n        username: '',\r\n        password: '',\r\n        userType: '',\r\n        email_id: '',\r\n        mobile_no: ''\r\n    });\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        // Check if the userType in localStorage is admin\r\n        const userType = localStorage.getItem('userType');\r\n        if (userType !== 'admin') {\r\n            navigate('/dashboard'); // Redirect if not admin\r\n        }\r\n    }, [navigate]);\r\n\r\n    const handleAddUser = async () => {\r\n        try {\r\n            await axios.post('https://instareact-9vx0.onrender.com/api/users', newUser);\r\n            setNewUser({\r\n                username: '',\r\n                password: '',\r\n                userType: '',\r\n                email_id: '',\r\n                mobile_no: ''\r\n            }); // Reset form\r\n            navigate('/manage-users'); // Redirect to the users list page\r\n        } catch (error) {\r\n            console.error('Error adding user:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-8\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Add New User</h2>\r\n            <div className=\"space-y-4\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    value={newUser.username}\r\n                    onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\r\n                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={newUser.password}\r\n                    onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\r\n                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Email ID\"\r\n                    value={newUser.email_id}\r\n                    onChange={(e) => setNewUser({ ...newUser, email_id: e.target.value })}\r\n                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Mobile No\"\r\n                    value={newUser.mobile_no}\r\n                    onChange={(e) => setNewUser({ ...newUser, mobile_no: e.target.value })}\r\n                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                />\r\n                <select\r\n                    value={newUser.userType}\r\n                    onChange={(e) => setNewUser({ ...newUser, userType: e.target.value })}\r\n                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                >\r\n                    <option value=\"\">Select User Type</option>\r\n                    <option value=\"admin\">Admin</option>\r\n                    <option value=\"user\">User</option>\r\n                </select>\r\n                <button \r\n                    onClick={handleAddUser}\r\n                    className=\"bg-purple-900 text-white py-2 px-4 rounded\"\r\n                >\r\n                    Add User\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddUser;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}