{"ast":null,"code":"// src/pages/Login.js\nimport React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import OtpModal from'../components/OtpModal';import loginimg from'../images/login3dpng.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[userId,setUserId]=useState(null);const[userType,setUserType]=useState('');const[showOtpModal,setShowOtpModal]=useState(false);const[error,setError]=useState(null);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();setError(null);// Reset error\ntry{const response=await axios.post('https://instareact-9vx0.onrender.com/api/auth/login',{username,password});setUserId(response.data.userId);console.log(\"response\",response);setUserType(response.data.userType);setShowOtpModal(true);}catch(error){console.error('Login Error:',error);// Log error\nsetError(error.response.data.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen flex-col bg-purple-200 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between px-6 py-4 shadow \",style:{\"background-color\":\"transparent\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-purple-900\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"path\",{d:\"m8 3 4 8 5-5 5 15H2L8 3z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-purple-900\",children:\"InstaHR\"})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"flex flex-1 items-center justify-center bg-purple-200 px-4 py-4 sm:px-6 lg:px-8 alice \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto flex w-full max-w-4xl items-center justify-between gap-12 rounded-2xl p-8 shadow-lg shadow-purple-300 sm:p-12 lg:gap-20 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden w-full max-w-lg lg:block\",children:/*#__PURE__*/_jsx(\"img\",{src:loginimg,alt:\"Login Illustration\",className:\"rounded-2xl object-cover w-full\",style:{aspectRatio:'1 / 1'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-purple-900\",children:\"Welcome!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Enter your credentials to access your account.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm font-medium text-gray-700\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",placeholder:\"Enter your username\",value:username,onChange:e=>setUsername(e.target.value),className:\"block w-full border border-gray-300 rounded-md p-2\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-sm font-medium text-purple-900 hover:text-purple-600\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value),className:\"block w-full border border-gray-300 rounded-md p-2\",required:true})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-purple-900 text-white py-2 px-4 rounded\",children:\"Login\"})]})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\" p-6 text-center text-sm text-purple-900\",children:\"\\xA9 2023 InstaHr. All rights reserved.\"}),showOtpModal&&/*#__PURE__*/_jsx(OtpModal,{userId:userId,username:username,userType:userType,onClose:()=>setShowOtpModal(false)})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","OtpModal","loginimg","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","userId","setUserId","userType","setUserType","showOtpModal","setShowOtpModal","error","setError","navigate","handleLogin","e","preventDefault","response","post","data","console","log","message","className","children","style","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","src","alt","aspectRatio","onSubmit","htmlFor","id","type","placeholder","value","onChange","target","required","href","onClose"],"sources":["C:/Users/Admin/Documents/instareact/frontend/src/pages/Login.js"],"sourcesContent":["// src/pages/Login.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport OtpModal from '../components/OtpModal';\r\nimport loginimg from '../images/login3dpng.png'\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [userId, setUserId] = useState(null);\r\n    const [userType, setUserType] = useState('');\r\n    const [showOtpModal, setShowOtpModal] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        setError(null); // Reset error\r\n\r\n        try {\r\n            const response = await axios.post('https://instareact-9vx0.onrender.com/api/auth/login', { username, password });\r\n            setUserId(response.data.userId);\r\n            console.log(\"response\", response)\r\n            setUserType(response.data.userType);\r\n            setShowOtpModal(true);\r\n        } catch (error) {\r\n            console.error('Login Error:', error); // Log error\r\n            setError(error.response.data.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen flex-col bg-purple-200 \">\r\n            <div className=\"flex items-center justify-between px-6 py-4 shadow \" style={{\"background-color\":\"transparent\"}}>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <svg className=\"h-6 w-6 text-purple-900\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                        <path d=\"m8 3 4 8 5-5 5 15H2L8 3z\" />\r\n                    </svg>\r\n                    <span className=\"text-lg font-bold text-purple-900\">InstaHR</span>\r\n                </div>\r\n            </div>\r\n            <main className=\"flex flex-1 items-center justify-center bg-purple-200 px-4 py-4 sm:px-6 lg:px-8 alice \">\r\n                <div className=\"mx-auto flex w-full max-w-4xl items-center justify-between gap-12 rounded-2xl p-8 shadow-lg shadow-purple-300 sm:p-12 lg:gap-20 \">\r\n                    <div className=\"hidden w-full max-w-lg lg:block\">\r\n                        <img\r\n                            src={loginimg}\r\n                            alt=\"Login Illustration\"\r\n                            className=\"rounded-2xl object-cover w-full\"\r\n                            style={{ aspectRatio: '1 / 1' }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"w-full max-w-sm space-y-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <h1 className=\"text-3xl font-bold text-purple-900\">Welcome!</h1>\r\n                            <p className=\"text-gray-600\">Enter your credentials to access your account.</p>\r\n                        </div>\r\n                        <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700\">Username</label>\r\n                                <input\r\n                                    id=\"username\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter your username\"\r\n                                    value={username}\r\n                                    onChange={(e) => setUsername(e.target.value)}\r\n                                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                                    <a href=\"#\" className=\"text-sm font-medium text-purple-900 hover:text-purple-600\">Forgot password?</a>\r\n                                </div>\r\n                                <input\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Enter your password\"\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"block w-full border border-gray-300 rounded-md p-2\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            {error && <p className=\"text-red-500\">{error}</p>}\r\n                            <button type=\"submit\" className=\"w-full bg-purple-900 text-white py-2 px-4 rounded\">Login</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n            <footer className=\" p-6 text-center text-sm text-purple-900\">\r\n                &copy; 2023 InstaHr. All rights reserved.\r\n            </footer>\r\n            {showOtpModal && <OtpModal userId={userId} username={username} userType={userType} onClose={() => setShowOtpModal(false)} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}